"use strict";document.addEventListener("DOMContentLoaded",(function(){
//! сброс событя на ссылках (для теста)
document.querySelectorAll("a").forEach(e=>e.addEventListener("click",e=>e.preventDefault())),
//! tab-focus only
document.body.addEventListener("mousedown",(function(){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(e){"Tab"===e.code&&document.body.classList.remove("using-mouse")}));(()=>{const e=document.querySelectorAll(".form"),t=document.querySelectorAll(".form__input"),o=document.querySelector(".thanks"),n=document.querySelector(".request"),l=document.querySelector(".thanks__text"),c=document.querySelectorAll(".modal__close");document.querySelectorAll(".call").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n.style.display="flex",document.body.style.overflow="hidden"})}),c.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),n.style.display="none",o.style.display="none",document.body.style.overflow=""})});const s="загрузка...",d="спасибо",a="ошибка";e.forEach(e=>{e.addEventListener("submit",c=>{c.preventDefault();(async(e,t)=>{"flex"===n.style.display&&(n.style.display="none"),l.textContent=s,o.style.display="flex",document.body.style.overflow="hidden";let c=await fetch(e,{method:"POST",body:t});return await c.text()})("server.php",new FormData(e)).then(e=>{console.log(e),l.textContent=d}).catch(()=>l.textContent=a).finally(()=>{t.forEach(e=>{e.value=""}),setTimeout(()=>{o.style.display="none",document.body.style.overflow=""},4e3)})})})})();(()=>{const e=document.querySelectorAll(".block__load-link"),t=document.querySelectorAll(".block__card");e.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault(),e.classList.contains("load-reviews")&&t.forEach(e=>{e.classList.contains("reviews__card")&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),e.classList.contains("load-articles")&&t.forEach(e=>{e.classList.contains("articles__card")&&e.classList.remove("hidden")})})})})()}));